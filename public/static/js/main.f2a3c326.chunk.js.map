{"version":3,"sources":["types/types.js","reducers/AuthReducer.js","reducers/calendarReducer.js","reducers/uiReducer.js","reducers/rootReducer.js","store/store.js","hooks/useForm.js","helpers/fetch.js","helpers/prpeareEvents.js","actions/events.js","actions/auth.js","components/auth/LoginScreen.js","components/ui/Navbar.js","helpers/calendar-messages-es.js","components/calendar/CalendarEvent.js","actions/ui.js","components/calendar/CalendarModal.js","components/ui/AddNewFab.js","components/ui/DeleteEventFab.js","components/calendar/CalendarScreen.js","router/PrivateRoute.js","router/PublicRoute.js","router/AppRouter.js","CalendarApp.js","index.js"],"names":["types","initialState","checking","events","activeEvent","modalOpen","rootReducer","combineReducers","ui","state","action","type","calendar","payload","map","e","id","filter","auth","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","useForm","useState","values","setValues","reset","handleInputChange","target","name","value","baseUrl","process","fetchSinToken","endPoint","data","method","url","fetch","headers","body","JSON","stringify","fetchConToken","token","localStorage","getItem","prepareEvents","end","moment","toDate","start","eventAddNew","event","setActive","eventClearActiveNote","eventUpdated","eventDeleted","eventLoaded","checkingFinish","login","user","startlogout","dispatch","clear","logout","LoginScreen","useDispatch","lEmail","lPassword","formLoginValues","handleLoginInputChange","rname","rEmail","rPassword1","rPassword2","formRegisterValues","handleRegisterInputChange","className","onSubmit","email","password","preventDefault","a","resp","json","ok","setItem","Date","getTime","uid","Swal","fire","msg","placeholder","onChange","Navbar","useSelector","onClick","messages","allDay","previous","next","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","CalendarEvent","title","uiOpenModal","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","minutes","seconds","add","nowPlus1","clone","initEvent","notes","CalendarModal","dateStart","setDateStart","dateEnd","setDateEnd","titleValid","setTitleValid","formValues","setFormValues","useEffect","closeModal","overlayClassName","isOpen","onRequestClose","style","closeTimeoutMS","momentStart","momentEnd","isSameOrAfter","trim","length","console","log","getState","evento","_id","eventStartAddNew","minDate","autoComplete","rows","AddNewFab","DeleteEventFab","locale","localizer","momentLocalizer","CalendarScreen","lastView","setLastView","eventos","startAccessor","endAccessor","eventPropGetter","isSelected","backgroundColor","borderRadius","opacity","display","color","onDoubleClickEvent","onSelectEvent","onView","view","onSelectSlot","selectable","components","PrivateRoute","isAuthenticated","Component","component","rest","props","to","PublicRoute","AppRouter","exact","path","CalendarApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f2a3c326.chunk.js","sourcesContent":["export const types = {\n\tuiOpenModal: \"[ui] Open modal\",\n\tuiCloseModal: \"[ui] Close modal\",\n\n\teventSelectActive: \"[event] Set active\",\n\teventLogout: \"[event] logoutn event clean\",\n\n\teventStartAddNew: \"[event] start add new\",\n\teventAddNew: \"[event] Add new\",\n\teventClearActiveNote: \"[event] Clear active event\",\n\teventUpdated: \"[event] event update\",\n\teventDeleted: \"[event] event deleted\",\n\teventLoaded: \"[event] events loaded\",\n\n\tauthCheckingFinish: \"[auth] Finish login state\",\n\tauthStartLogin: \"[auth] Start login\",\n\tauthLogin: \"[auth]  Login\",\n\tauthRegister: \"[auth]  Start register\",\n\tauthStartTokenRenew: \"[auth]  Start token renew\",\n\tauthLogout: \"[auth]  Logout\",\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tchecking: true,\n\t// uid: null,\n\t// name: null,\n};\n\nexport const authReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.authLogin:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.payload,\n\t\t\t\tchecking: false,\n\t\t\t};\n\t\tcase types.authCheckingFinish:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tchecking: false,\n\t\t\t};\n\n\t\tcase types.authLogout:\n\t\t\treturn {\n\t\t\t\tchecking: false,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\n// {\n// \tid: 'dfsfdsf',\n// \ttitle: \"Cumpleaños\",\n// \tstart: moment().toDate(),\n// \tend: moment().add(2, \"hours\").toDate(),\n// \tbgcolor: \"#fafafa\",\n// \tnotes: \"Compara el pastel\",\n// \tuser: {\n// \t\t_id: \"123\",\n// \t\tname: \"Moises\",\n// \t},\n// },\n\nconst initialState = {\n\tevents: [],\n\tactiveEvent: null,\n};\n\nexport const calendarReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.eventSelectActive:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactiveEvent: action.payload,\n\t\t\t};\n\t\tcase types.eventAddNew:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tevents: [...state.events, action.payload],\n\t\t\t};\n\n\t\tcase types.eventClearActiveNote:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactiveEvent: null,\n\t\t\t};\n\t\tcase types.eventUpdated:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tevents: state.events.map((e) =>\n\t\t\t\t\te.id === action.payload.id ? action.payload : e\n\t\t\t\t),\n\t\t\t};\n\t\tcase types.eventDeleted:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tevents: state.events.filter((e) => e.id !== state.activeEvent.id),\n\t\t\t\tactiveEvent: null,\n\t\t\t};\n\t\tcase types.eventLoaded:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tevents: [...action.payload],\n\t\t\t};\n\n\t\tcase types.eventLogout:\n\t\t\treturn {\n\t\t\t\t...initialState,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tmodalOpen: false,\n};\n\nexport const uiReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.uiOpenModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmodalOpen: true,\n\t\t\t};\n\t\tcase types.uiCloseModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmodalOpen: false,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { combineReducers } from \"redux\";\nimport { authReducer } from \"./AuthReducer\";\nimport { calendarReducer } from \"./calendarReducer\";\nimport { uiReducer } from \"./uiReducer\";\n\nexport const rootReducer = combineReducers({\n\tui: uiReducer,\n\tcalendar: calendarReducer,\n\tauth: authReducer,\n});\n","import { createStore, compose, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { rootReducer } from \"../reducers/rootReducer\";\n\nconst composeEnhancers =\n\t(typeof window !== \"undefined\" &&\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\n\tcompose;\n\nexport const store = createStore(\n\trootReducer,\n\tcomposeEnhancers(applyMiddleware(thunk))\n);\n","import { useState } from \"react\";\n\nexport const useForm = (initialState = {}) => {\n\tconst [values, setValues] = useState(initialState);\n\n\tconst reset = () => {\n\t\tsetValues(initialState);\n\t};\n\n\tconst handleInputChange = ({ target }) => {\n\t\tsetValues({\n\t\t\t...values,\n\t\t\t[target.name]: target.value,\n\t\t});\n\t};\n\n\treturn [values, handleInputChange, reset];\n};\n","const baseUrl = process.env.REACT_APP_API_URL;\n\nconst fetchSinToken = (endPoint, data, method = \"GET\") => {\n\tconst url = `${baseUrl}/${endPoint}`;\n\n\tif (method === \"GET\") {\n\t\treturn fetch(url);\n\t} else {\n\t\treturn fetch(url, {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify(data),\n\t\t});\n\t}\n};\n\nconst fetchConToken = (endPoint, data, method = \"GET\") => {\n\tconst url = `${baseUrl}/${endPoint}`;\n\tconst token = localStorage.getItem(\"token\") || \"\";\n\tif (method === \"GET\") {\n\t\treturn fetch(url, {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\t\"x-token\": token,\n\t\t\t},\n\t\t});\n\t} else {\n\t\treturn fetch(url, {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"x-token\": token,\n\t\t\t},\n\t\t\tbody: JSON.stringify(data),\n\t\t});\n\t}\n};\n\nexport { fetchSinToken, fetchConToken };\n","import moment from \"moment\";\n\nexport const prepareEvents = (events = []) => {\n\treturn events.map((e) => ({\n\t\t...e,\n\t\tend: moment(e.end).toDate(),\n\t\tstart: moment(e.end).toDate(),\n\t}));\n};\n","import { fetchConToken } from \"../helpers/fetch\";\nimport { prepareEvents } from \"../helpers/prpeareEvents\";\nimport { types } from \"../types/types\";\nimport Swal from \"sweetalert2\";\n\nexport const eventStartAddNew = (event) => {\n\treturn async (dispatch, getState) => {\n\t\tconst { uid, name } = getState().auth;\n\t\ttry {\n\t\t\tconst resp = await fetchConToken(\"events\", event, \"POST\");\n\t\t\tconst body = await resp.json();\n\t\t\tconsole.log(body);\n\t\t\tif (body.ok) {\n\t\t\t\tevent.id = body.evento.id;\n\t\t\t\tevent.user = {\n\t\t\t\t\t_id: uid,\n\t\t\t\t\tname: name,\n\t\t\t\t};\n\t\t\t\tdispatch(eventAddNew(event));\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n};\nconst eventAddNew = (event) => ({\n\ttype: types.eventAddNew,\n\tpayload: event,\n});\n\nexport const setActive = (event) => ({\n\ttype: types.eventSelectActive,\n\tpayload: event,\n});\n\nexport const eventClearActiveNote = () => ({\n\ttype: types.eventClearActiveNote,\n});\n\nexport const eventStartUpdate = (event) => {\n\treturn async (dispatch) => {\n\t\ttry {\n\t\t\tconst resp = await fetchConToken(`events/${event.id}`, event, \"PUT\");\n\t\t\tconst body = await resp.json();\n\n\t\t\tif (body.ok) {\n\t\t\t\tdispatch(eventUpdated());\n\t\t\t} else {\n\t\t\t\tSwal.fire(\"Error\", body.msg, \"error\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t};\n};\n\nconst eventUpdated = (event) => ({\n\ttype: types.eventUpdated,\n\tpayload: event,\n});\n\nexport const eventStartDelete = () => {\n\treturn async (dispatch, getState) => {\n\t\tconst { id } = getState().calendar.activeEvent;\n\t\ttry {\n\t\t\tconst resp = await fetchConToken(`events/${id}`, {}, \"DELETE\");\n\t\t\tconst body = await resp.json();\n\n\t\t\tif (body.ok) {\n\t\t\t\tdispatch(eventDeleted());\n\t\t\t} else {\n\t\t\t\tSwal.fire(\"Error\", body.msg, \"error\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t};\n};\n\nconst eventDeleted = () => ({\n\ttype: types.eventDeleted,\n});\n\nexport const eventStartLoading = () => {\n\treturn async (dispatch) => {\n\t\ttry {\n\t\t\tconst resp = await fetchConToken(\"events\");\n\t\t\tconst body = await resp.json();\n\n\t\t\tconst events = prepareEvents(body.eventos);\n\n\t\t\tdispatch(eventLoaded(events));\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n};\n\nconst eventLoaded = (events) => ({\n\ttype: types.eventLoaded,\n\tpayload: events,\n});\n\nexport const eventLogout = () => ({\n\ttype: types.eventLogout,\n});\n","import Swal from \"sweetalert2\";\nimport { fetchConToken, fetchSinToken } from \"../helpers/fetch\";\nimport { types } from \"../types/types\";\nimport { eventLogout } from \"./events\";\n\nexport const startLogin = (email, password) => {\n\treturn async (dispatch) => {\n\t\tconst resp = await fetchSinToken(\"auth\", { email, password }, \"POST\");\n\t\tconst body = await resp.json();\n\n\t\tif (body.ok) {\n\t\t\tlocalStorage.setItem(\"token\", body.token);\n\t\t\tlocalStorage.setItem(\"token-init-date\", new Date().getTime());\n\n\t\t\tdispatch(\n\t\t\t\tlogin({\n\t\t\t\t\tuid: body.uid,\n\t\t\t\t\tname: body.name,\n\t\t\t\t})\n\t\t\t);\n\t\t} else {\n\t\t\tSwal.fire(\"Error\", body.msg, \"error\");\n\t\t}\n\t};\n};\n\nexport const startRegister = (email, password, name) => {\n\treturn async (dispatch) => {\n\t\tconst resp = await fetchSinToken(\n\t\t\t\"auth/new\",\n\t\t\t{ name, email, password },\n\t\t\t\"POST\"\n\t\t);\n\t\tconst body = await resp.json();\n\n\t\tif (body.ok) {\n\t\t\tlocalStorage.setItem(\"token\", body.token);\n\t\t\tlocalStorage.setItem(\"token-init-date\", new Date().getTime());\n\n\t\t\tdispatch(\n\t\t\t\tlogin({\n\t\t\t\t\tuid: body.uid,\n\t\t\t\t\tname: body.name,\n\t\t\t\t})\n\t\t\t);\n\t\t} else {\n\t\t\tSwal.fire(\"Error\", body.msg, \"error\");\n\t\t}\n\t};\n};\n\nexport const startChecking = () => {\n\treturn async (dispatch) => {\n\t\tconst resp = await fetchConToken(\"auth/renew\");\n\t\tconst body = await resp.json();\n\n\t\tif (body.ok) {\n\t\t\tlocalStorage.setItem(\"token\", body.token);\n\t\t\tlocalStorage.setItem(\"token-init-date\", new Date().getTime());\n\n\t\t\tdispatch(\n\t\t\t\tlogin({\n\t\t\t\t\tuid: body.uid,\n\t\t\t\t\tname: body.name,\n\t\t\t\t})\n\t\t\t);\n\t\t} else {\n\t\t\tdispatch(checkingFinish());\n\t\t}\n\t};\n};\n\nconst checkingFinish = () => ({\n\ttype: types.authCheckingFinish,\n});\n\nconst login = (user) => ({\n\ttype: types.authLogin,\n\tpayload: user,\n});\n\nexport const startlogout = () => {\n\treturn (dispatch) => {\n\t\tlocalStorage.clear();\n\t\tdispatch(eventLogout());\n\t\tdispatch(logout());\n\t};\n};\n\nconst logout = () => ({\n\ttype: types.authLogout,\n});\n","import React from \"react\";\nimport { useForm } from \"../../hooks/useForm\";\nimport \"./login.css\";\n\nimport { useDispatch } from \"react-redux\";\nimport { startLogin, startRegister } from \"../../actions/auth\";\nimport Swal from \"sweetalert2\";\n\nexport const LoginScreen = () => {\n\tconst dispatch = useDispatch();\n\n\tconst [formLoginValues, handleLoginInputChange] = useForm({\n\t\tlEmail: \"moises@gmail.com\",\n\t\tlPassword: \"123456\",\n\t});\n\tconst [formRegisterValues, handleRegisterInputChange] = useForm({\n\t\trname: \"Cristian\",\n\t\trEmail: \"moises717@gmail.com\",\n\t\trPassword1: \"123456\",\n\t\trPassword2: \"123456\",\n\t});\n\n\tconst { rname, rEmail, rPassword1, rPassword2 } = formRegisterValues;\n\n\tconst { lEmail, lPassword } = formLoginValues;\n\n\tconst handleLogin = (e) => {\n\t\te.preventDefault();\n\n\t\tdispatch(startLogin(lEmail, lPassword));\n\t};\n\tconst handleRegister = (e) => {\n\t\te.preventDefault();\n\n\t\tif (rPassword1 !== rPassword2) {\n\t\t\tSwal.fire(\"Error\", \"Las contraseñas deben ser iguales.\", \"error\");\n\t\t}\n\n\t\tdispatch(startRegister(rEmail, rPassword1, rname));\n\t};\n\n\treturn (\n\t\t<div className=\"container login-container\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-6 login-form-1\">\n\t\t\t\t\t<h3>Ingreso</h3>\n\t\t\t\t\t<form onSubmit={handleLogin}>\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"Correo\"\n\t\t\t\t\t\t\t\tname=\"lEmail\"\n\t\t\t\t\t\t\t\tvalue={lEmail}\n\t\t\t\t\t\t\t\tonChange={handleLoginInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"Contraseña\"\n\t\t\t\t\t\t\t\tname=\"lPassword\"\n\t\t\t\t\t\t\t\tvalue={lPassword}\n\t\t\t\t\t\t\t\tonChange={handleLoginInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<input type=\"submit\" className=\"btnSubmit\" value=\"Login\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-md-6 login-form-2\">\n\t\t\t\t\t<h3>Registro</h3>\n\t\t\t\t\t<form onSubmit={handleRegister}>\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"Nombre\"\n\t\t\t\t\t\t\t\tname={rname}\n\t\t\t\t\t\t\t\tvalue={rname}\n\t\t\t\t\t\t\t\tonChange={handleRegisterInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"Correo\"\n\t\t\t\t\t\t\t\tname=\"rEmail\"\n\t\t\t\t\t\t\t\tvalue={rEmail}\n\t\t\t\t\t\t\t\tonChange={handleRegisterInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"Contraseña\"\n\t\t\t\t\t\t\t\tname=\"rPassword1\"\n\t\t\t\t\t\t\t\tvalue={rPassword1}\n\t\t\t\t\t\t\t\tonChange={handleRegisterInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"Repita la contraseña\"\n\t\t\t\t\t\t\t\tname=\"rPassword2\"\n\t\t\t\t\t\t\t\tvalue={rPassword2}\n\t\t\t\t\t\t\t\tonChange={handleRegisterInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<input type=\"submit\" className=\"btnSubmit\" value=\"Crear cuenta\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { startlogout } from \"../../actions/auth\";\n\nexport const Navbar = () => {\n\tconst { name } = useSelector((state) => state.auth);\n\tconst dispatch = useDispatch();\n\n\tconst handleLogout = () => {\n\t\tdispatch(startlogout());\n\t};\n\treturn (\n\t\t<div className=\"navbar navbar-dark bg-dark mb-4\">\n\t\t\t<span className=\"navbar-brand\">{name}</span>\n\t\t\t<button className=\"btn btn-outline-danger\" onClick={handleLogout}>\n\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>\n\t\t\t\t<span> Salir</span>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","export const messages = {\n\tallDay: \"Todo el día\",\n\tprevious: \"<\",\n\tnext: \">\",\n\ttoday: \"Hoy\",\n\tmonth: \"Mes\",\n\tweek: \"Semana\",\n\tday: \"Día\",\n\tagenda: \"Agenda\",\n\tdate: \"Fecha\",\n\ttime: \"Hora\",\n\tevent: \"Evento\",\n\tnoEventsInRange: \"No hay eventos en este rango\",\n\tshowMore: (total) => `+ Ver más (${total})`,\n};\n","import React from \"react\";\n\nexport const CalendarEvent = ({ event }) => {\n\tconst { title, user } = event;\n\n\treturn (\n\t\t<div className=\"\">\n\t\t\t<strong>{title} - </strong>\n\t\t\t<span>{user.name}</span>\n\t\t</div>\n\t);\n};\n","import { types } from \"../types/types\";\n\nexport const uiOpenModal = () => ({\n\ttype: types.uiOpenModal,\n});\n\nexport const uiCloseModal = () => ({\n\ttype: types.uiCloseModal,\n});\n","import { useDispatch, useSelector } from \"react-redux\";\nimport Modal from \"react-modal\";\nimport moment from \"moment\";\nimport DateTimePicker from \"react-datetime-picker\";\nimport { useEffect, useState } from \"react\";\nimport Swal from \"sweetalert2\";\nimport { uiCloseModal } from \"../../actions/ui\";\nimport {\n\teventClearActiveNote,\n\teventStartAddNew,\n\teventStartUpdate,\n} from \"../../actions/events\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t},\n};\n\nModal.setAppElement(\"#root\");\n\nconst now = moment().minutes(0).seconds(0).add(1, \"hours\");\nconst nowPlus1 = now.clone().add(1, \"hours\");\n\nconst initEvent = {\n\ttitle: \"\",\n\tnotes: \"\",\n\tstart: now.toDate(),\n\tend: nowPlus1.toDate(),\n};\n\nexport const CalendarModal = () => {\n\tconst [dateStart, setDateStart] = useState(now.toDate());\n\tconst [dateEnd, setDateEnd] = useState(nowPlus1.toDate());\n\tconst [titleValid, setTitleValid] = useState(true);\n\n\tconst { modalOpen } = useSelector((state) => state.ui);\n\tconst { activeEvent } = useSelector((state) => state.calendar);\n\tconst dispatch = useDispatch();\n\n\tconst [formValues, setFormValues] = useState(initEvent);\n\n\tconst { notes, title, start, end } = formValues;\n\n\tuseEffect(() => {\n\t\tif (activeEvent) {\n\t\t\tsetFormValues(activeEvent);\n\t\t} else {\n\t\t\tsetFormValues(initEvent);\n\t\t}\n\t}, [activeEvent, setFormValues]);\n\n\tconst handleInputChange = ({ target }) => {\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\t[target.name]: target.value,\n\t\t});\n\t};\n\n\tconst closeModal = () => {\n\t\tdispatch(uiCloseModal());\n\t\tdispatch(eventClearActiveNote());\n\t\tsetFormValues(initEvent);\n\t};\n\n\tconst handleStartDateChange = (e) => {\n\t\tsetDateStart(e);\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tstart: e,\n\t\t});\n\t};\n\n\tconst handleEndDateChange = (e) => {\n\t\tsetDateEnd(e);\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tend: e,\n\t\t});\n\t};\n\n\tconst handleSubmitForm = (e) => {\n\t\te.preventDefault();\n\n\t\tconst momentStart = moment(start);\n\t\tconst momentEnd = moment(end);\n\n\t\tif (momentStart.isSameOrAfter(momentEnd)) {\n\t\t\tSwal.fire(\n\t\t\t\t\"Error\",\n\t\t\t\t\"El fin de la fecha debe ser mayor a la fecha de inicio.\",\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tif (title.trim().length < 2) {\n\t\t\treturn setTitleValid(false);\n\t\t}\n\t\t//Reallizar grabacion\n\n\t\tif (activeEvent) {\n\t\t\tdispatch(eventStartUpdate(formValues));\n\t\t} else {\n\t\t\tdispatch(eventStartAddNew(formValues));\n\t\t}\n\t\tsetTitleValid(true);\n\t\tcloseModal();\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\"\n\t\t\tisOpen={modalOpen}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}>\n\t\t\t<h1> {activeEvent ? \"Editando evento\" : \"Nuevo evento \"}</h1>\n\t\t\t<hr />\n\t\t\t<form className=\"container\" onSubmit={handleSubmitForm}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Fecha y hora inicio</label>\n\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\tonChange={handleStartDateChange}\n\t\t\t\t\t\tvalue={dateStart}\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Fecha y hora fin</label>\n\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\tonChange={handleEndDateChange}\n\t\t\t\t\t\tvalue={dateEnd}\n\t\t\t\t\t\tminDate={dateStart}\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<hr />\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Titulo y notas</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName={`form-control ${!titleValid && \"is-invalid\"}`}\n\t\t\t\t\t\tplaceholder=\"Título del evento\"\n\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<small id=\"emailHelp\" className=\"form-text text-muted\">\n\t\t\t\t\t\tUna descripción corta\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<textarea\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Notas\"\n\t\t\t\t\t\trows=\"5\"\n\t\t\t\t\t\tname=\"notes\"\n\t\t\t\t\t\tvalue={notes}\n\t\t\t\t\t\tonChange={handleInputChange}></textarea>\n\t\t\t\t\t<small id=\"emailHelp\" className=\"form-text text-muted\">\n\t\t\t\t\t\tInformación adicional\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\n\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary btn-block\">\n\t\t\t\t\t<i className=\"far fa-save\"></i>\n\t\t\t\t\t<span> Guardar</span>\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { uiOpenModal } from \"../../actions/ui\";\n\nexport const AddNewFab = () => {\n\tconst dispatch = useDispatch();\n\n\tconst handleShowModal = () => {\n\t\tdispatch(uiOpenModal());\n\t};\n\n\treturn (\n\t\t<button className=\"btn btn-primary fab\" onClick={handleShowModal}>\n\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t</button>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { eventDeleted, eventStartDelete } from \"../../actions/events\";\n\nexport const DeleteEventFab = () => {\n\tconst dispatch = useDispatch();\n\tconst handleDeleted = () => {\n\t\tdispatch(eventStartDelete());\n\t};\n\n\treturn (\n\t\t<button className=\"btn btn-danger fab-danger\" onClick={handleDeleted}>\n\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t<span> Borrar evento</span>\n\t\t</button>\n\t);\n};\n","import { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Navbar } from \"../ui/Navbar\";\nimport { messages } from \"../../helpers/calendar-messages-es\";\n\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\n\nimport { Calendar as BigCalendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport { CalendarEvent } from \"./CalendarEvent\";\nimport { CalendarModal } from \"./CalendarModal\";\nimport { uiOpenModal } from \"../../actions/ui\";\nimport {\n\teventClearActiveNote,\n\teventStartLoading,\n\tsetActive,\n} from \"../../actions/events\";\nimport { AddNewFab } from \"../ui/AddNewFab\";\nimport { DeleteEventFab } from \"../ui/DeleteEventFab\";\n\nmoment.locale(\"es\");\nconst localizer = momentLocalizer(moment);\n\n// const events = [\n// \t{\n// \t\ttitle: \"Cumpleaños\",\n// \t\tstart: moment().toDate(),\n// \t\tend: moment().add(2, \"hours\").toDate(),\n// \t\tbgcolor: \"#fafafa\",\n// \t\tnotes: \"Compara el pastel\",\n// \t\tuser: {\n// \t\t\t_id: \"123\",\n// \t\t\tname: \"Moises\",\n// \t\t},\n// \t},\n// ];\n\nexport const CalendarScreen = () => {\n\tconst [lastView, setLastView] = useState(\n\t\tlocalStorage.getItem(\"lastView\") || \"month\"\n\t);\n\tconst dispatch = useDispatch();\n\tconst { uid } = useSelector((state) => state.auth);\n\tconst { events, activeEvent } = useSelector((state) => state.calendar);\n\n\tuseEffect(() => {\n\t\tdispatch(eventStartLoading());\n\t}, [dispatch]);\n\n\tconst onDobleClick = (e) => {\n\t\tdispatch(uiOpenModal());\n\t\tdispatch(setActive(e));\n\t};\n\tconst onSelectEvent = (e) => {\n\t\tdispatch(setActive(e));\n\n\t\tif (activeEvent) {\n\t\t\tdispatch(eventClearActiveNote());\n\t\t}\n\t};\n\n\tconst onViewChange = (e) => {\n\t\tsetLastView(e);\n\t\tlocalStorage.setItem(\"lastView\", e);\n\t};\n\n\tconst onSelectSlot = (e) => {\n\t\tdispatch(eventClearActiveNote());\n\t};\n\n\tconst eventStylesGetter = (event, start, end, isSelected) => {\n\t\tconst style = {\n\t\t\tbackgroundColor: uid === event.user._id ? \"#367CF7\" : \"#465660\",\n\t\t\tborderRadius: \"0px\",\n\t\t\topacity: 0.8,\n\t\t\tdisplay: \"block\",\n\t\t\tcolor: \"white\",\n\t\t};\n\n\t\treturn {\n\t\t\tstyle,\n\t\t};\n\t};\n\n\treturn (\n\t\t<div className=\"calender-screen\">\n\t\t\t<Navbar />\n\n\t\t\t<BigCalendar\n\t\t\t\tlocalizer={localizer}\n\t\t\t\tevents={events}\n\t\t\t\tstartAccessor=\"start\"\n\t\t\t\tendAccessor=\"end\"\n\t\t\t\tmessages={messages}\n\t\t\t\teventPropGetter={eventStylesGetter}\n\t\t\t\tonDoubleClickEvent={onDobleClick}\n\t\t\t\tonSelectEvent={onSelectEvent}\n\t\t\t\tonView={onViewChange}\n\t\t\t\tview={lastView}\n\t\t\t\tonSelectSlot={onSelectSlot}\n\t\t\t\tselectable={true}\n\t\t\t\tcomponents={{\n\t\t\t\t\tevent: CalendarEvent,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<AddNewFab />\n\t\t\t{activeEvent && <DeleteEventFab />}\n\t\t\t<CalendarModal />\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport const PrivateRoute = ({\n\tisAuthenticated,\n\tcomponent: Component,\n\t...rest\n}) => {\n\treturn (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\tcomponent={(props) =>\n\t\t\t\tisAuthenticated ? <Component {...props} /> : <Redirect to=\"/login\" />\n\t\t\t}\n\t\t/>\n\t);\n};\n\nPrivateRoute.propTypes = {\n\tisAuthenticated: PropTypes.bool.isRequired,\n\tcomponent: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport const PublicRoute = ({\n\tisAuthenticated,\n\tcomponent: Component,\n\t...rest\n}) => {\n\treturn (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\tcomponent={(props) =>\n\t\t\t\tisAuthenticated ? <Redirect to=\"/\" /> : <Component {...props} />\n\t\t\t}\n\t\t/>\n\t);\n};\n\nPublicRoute.propTypes = {\n\tisAuthenticated: PropTypes.bool.isRequired,\n\tcomponent: PropTypes.func.isRequired,\n};\n","import React, { useEffect } from \"react\";\nimport { BrowserRouter as Router, Redirect, Switch } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\nimport { CalendarScreen } from \"../components/calendar/CalendarScreen\";\nimport { startChecking } from \"../actions/auth\";\nimport { PrivateRoute } from \"./PrivateRoute\";\nimport { PublicRoute } from \"./PublicRoute\";\n\nexport const AppRouter = () => {\n\tconst dispatch = useDispatch();\n\n\tconst { checking, uid } = useSelector((state) => state.auth);\n\n\tuseEffect(() => {\n\t\tdispatch(startChecking());\n\t}, [dispatch]);\n\n\tif (checking) {\n\t\treturn <h3>Espere..</h3>;\n\t}\n\n\treturn (\n\t\t<Router>\n\t\t\t<div>\n\t\t\t\t<Switch>\n\t\t\t\t\t<PublicRoute\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/login\"\n\t\t\t\t\t\tcomponent={LoginScreen}\n\t\t\t\t\t\tisAuthenticated={!!uid}\n\t\t\t\t\t/>\n\t\t\t\t\t<PrivateRoute\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\tcomponent={CalendarScreen}\n\t\t\t\t\t\tisAuthenticated={!!uid}\n\t\t\t\t\t/>\n\t\t\t\t\t<Redirect to=\"/\" />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</Router>\n\t);\n};\n","import React from \"react\";\nimport { store } from \"./store/store\";\nimport { Provider } from \"react-redux\";\n\nimport { AppRouter } from \"./router/AppRouter\";\n\nexport const CalendarApp = () => {\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<AppRouter />\n\t\t</Provider>\n\t);\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { CalendarApp } from \"./CalendarApp\";\n\nimport \"./styles.css\";\n\nReactDOM.render(<CalendarApp />, document.getElementById(\"root\"));\n"],"sourceRoot":""}